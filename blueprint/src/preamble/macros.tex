\def\AA{\mathbb{A}}
\def\BB{\mathbb{B}}
\newcommand{\CC}{\mathbb{C}}
\def\FF{\mathbb{F}}
\def\NN{\mathbb{N}}
\def\QQ{\mathbb{Q}}
\def\RR{\mathbb{R}}
\def\ZZ{\mathbb{Z}}

\def\Acal{\mathcal{A}}
\newcommand{\Bcal}{\mathcal{B}}
\def\Ccal{\mathcal{C}}
\def\Dcal{\mathcal{D}}
\def\Ecal{\mathcal{E}}
\def\Fcal{\mathcal{F}}
\def\Gcal{\mathcal{G}}
\newcommand{\Hcal}{\mathcal{H}}
\def\Ical{\mathcal{I}}
\def\Jcal{\mathcal{J}}
\def\Kcal{\mathcal{K}}
\def\Lcal{\mathcal{L}}
\newcommand{\Mcal}{\mathcal{M}}
\def\Ncal{\mathcal{N}}
\def\Ocal{\mathcal{O}}
\def\Pcal{\mathcal{P}}
\def\Qcal{\mathcal{Q}}
\def\Rcal{\mathcal{R}}
\def\Scal{\mathcal{S}}
\def\Tcal{\mathcal{T}}
\def\Ucal{\mathcal{U}}
\def\Vcal{\mathcal{V}}
\def\Wcal{\mathcal{W}}
\def\Xcal{\mathcal{X}}
\def\Ycal{\mathcal{Y}}
\def\Zcal{\mathcal{Z}}

\def\afrak{\mathfrak{a}}
\def\bfrak{\mathfrak{b}}
\def\cfrak{\mathfrak{c}}
\def\dfrak{\mathfrak{d}}
\def\efrak{\mathfrak{e}}
\def\ffrak{\mathfrak{f}}
\def\gfrak{\mathfrak{g}}
\def\hfrak{\mathfrak{h}}
\def\ifrak{\mathfrak{i}}
\def\jfrak{\mathfrak{j}}
\def\kfrak{\mathfrak{k}}
\def\lfrak{\mathfrak{l}}
\def\mfrak{\mathfrak{m}}
\def\nfrak{\mathfrak{n}}
\def\ofrak{\mathfrak{o}}
\def\pfrak{\mathfrak{p}}
\def\qfrak{\mathfrak{q}}
\def\rfrak{\mathfrak{r}}
\def\sfrak{\mathfrak{s}}
\def\tfrak{\mathfrak{t}}
\def\ufrak{\mathfrak{u}}
\def\vfrak{\mathfrak{v}}
\def\wfrak{\mathfrak{w}}
\def\xfrak{\mathfrak{x}}
\def\yfrak{\mathfrak{y}}
\def\zfrak{\mathfrak{z}}
\def\Cfrak{\mathfrak{C}}
\def\Lfrak{\mathfrak{L}}

\def\glfrak{\gfrak\lfrak}
\def\sufrak{\sfrak\ufrak}


\def\Hscr{\mathscr{H}}

\def\ivec{\mathbf{i}}
\def\jvec{\mathbf{j}}
\def\kvec{\mathbf{k}}
\newcommand{\op}{\texttt{op}}

\newcommand{\tto}{\Rightarrow}
\newcommand{\ott}{\Leftarrow}
\newcommand{\lra}{\leftrightarrow}
\newcommand{\LRa}{\Leftrightarrow}

\def\lequiv{\cong_\textnormal{l}}
\def\aequiv{\cong_\textnormal{a}}
\def\sequiv{\cong_{\star\textnormal{a}}}
% \def\isequiv{\cong_{\,^{\textnormal{\textbf{i}}}{\star\textnormal{a}}}}

\DeclareMathOperator{\Ann}{Ann}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\image}{im}
\newcommand{\id}{\operatorname{id}}
% \def\id{$\normaltext{id}$}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Span}{Span}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\trace}{trace}
\DeclareMathOperator{\nullity}{null}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\cok}{cok}
\DeclareMathOperator{\Mod}{Mod}
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Spectrum}{Spectrum}
\DeclareMathOperator{\Gal}{Gal}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\Root}{Root}
\DeclareMathOperator{\sign}{sgn}
% \DeclareMathOperator{\detM}{determinant}

% \newcommand{\imagelink}{\hyperlink{linear_map.image}{\image}}
% \newcommand{\kerlink}{{\ker}}
% \newcommand{\Lcallink}{{\Lcal}}
% \newcommand{\Bcallink}{{\Bcal}}
\newcommand{\isoto}{{\cong}}
\newcommand{\mul}{{m}}
\newcommand{\muladjoint}{{m^*}}
\newcommand{\unit}{{\eta}}
\newcommand{\unitadjoint}{{\eta^*}}
\newcommand{\lid}{{\tau}}
\newcommand{\lidinv}{{\tau^{-1}}}
\newcommand{\comm}{{\varkappa}}
\newcommand{\comminv}{{\varkappa^{-1}}}
\newcommand{\tomatrix}{{\Mcal}}
\newcommand{\tomat}[1]{{\Mcal_{\normalcolor{#1}}}}
\newcommand{\tolinearmap}{{\Mcal^{-1}}}
\newcommand{\tolm}[1]{{\Mcal^{-1}_{\normalcolor{#1}}}}
\newcommand{\reshape}{{\varrho}}
\newcommand{\reshapeToVector}{{\varrho}}
\newcommand{\reshapeToMatrix}{{\varrho^{-1}}}
\newcommand{\orthogonalProjection}[1]{{P}\!_{#1}}
\newcommand{\basis}[2]{{e_{{\normalcolor #1#2}}}}
\newcommand{\ext}[1]{{\sigma}_{#1}}
\newcommand{\extop}[1]{{\sigma_{{\normalcolor{#1}}}^\textnormal{op}}}
\newcommand{\commutant}[1]{{#1}^\prime}
\newcommand{\suBasis}[1]{{\lambda_{#1}}}
% \newcommand{\Q}{{Q}}
\newcommand{\swap}{{\varsigma}}
\newcommand{\bij}[2]{{\Psi}_{#1,#2}}
\newcommand{\bijinv}[2]{{\Psi^{-1}_{\normalcolor{#1,#2}}}}
\newcommand{\inneraut}[1]{{f}_{#1}}
\newcommand{\innerautinv}[1]{{f^{-1}_{\normalcolor{#1}}}}
\newcommand{\symm}{{\operatorname{symm}}}
\newcommand{\symmPrime}{{\operatorname{symm}^\prime}}
\newcommand{\irdN}[2]{{#1}\bullet{#2}}
\newcommand{\irdLeft}[2]{\lrp{#1}\bullet{#2}}
\newcommand{\irdRight}[2]{{#1}\bullet\lrp{#2}}
\newcommand{\ird}[2]{\lrp{#1}\bullet\lrp{#2}}

\newcommand{\lmul}{\operatorname{lmul}}
\newcommand{\rmul}{\operatorname{rmul}}
\newcommand{\real}[1]{{#1}^r}

\usepackage{mathtools}
\newcommand{\norm}[1]{\left\|#1\right\|}
\newcommand{\ket}[1]{\left\lvert#1\right\rangle}
\newcommand{\bra}[1]{\left\langle#1\right\rvert}
\newcommand{\ketbra}[2]{\ket{#1}\!\!\bra{#2}}
\newcommand{\ip}[2]{\left\langle#1 \mid #2\right\rangle}
% \DeclarePairedDelimiter\bras{\langle}{\rvert}
% \DeclarePairedDelimiter\kets{\lvert}{\rangle}
% \DeclarePairedDelimiterX\brakets[2]{\langle}{\rangle}{#1 \delimsize| #2}
% \DeclarePairedDelimiterX\ketbras[2]{\lvert}{\rvert}{#1 \delimsize\rangle\!\delimsize\langle #2}

% \newcommand{\bra}[1]{\bras*{#1}}
% \newcommand{\ket}[1]{\kets*{#1}}
% \newcommand{\innerproduct}[2]{\brakets*{#1}{#2}}
% \newcommand{\norm}[1]{\left\|#1\right\|}

% \newcommand{\ketbra}[2]{\hyperlink{ketbra}{\ketbras*{{\normalcolor #1}}{{\normalcolor #2}}}}
% \newcommand{\ketbra}[2]{\ketbras*{#1}{#2}}
% \newcommand{\braket}[2]{\brakets*{#1}{#2}}

% \newcommand{\ketbraNoLink}[2]{\ketbras*{#1}{#2}}
% \newcommand{\ipNoLink}[2]{\brakets*{#1}{#2}}

\newcommand{\abs}[1]{\left\lvert{#1}\right\rvert}


% \newcommand{\detM}[1]{\left\lvert{#1}\right\rvert}

\newcommand{\val}[1]{[\![#1]\!]}

% \newcommand{\otimeslink}{\hyperlink{tensor_product}{\otimes}}

\DeclareMathOperator{\CNOT}{CNOT}

% \makeatletter
%  \providecommand*{\Dashv}{\mathrel{\mathpalette\@Dashv\vDash}}
%  \newcommand*{\@Dashv}[2]{\reflectbox{$\m@th#1#2$}}
% \makeatother

%%
% \usepackage{scalerel,stackengine}
% \stackMath
% \newcommand\reallywidehat[1]{\savestack{\tmpbox}{\stretchto{\scaleto{%
%     \scalerel*[\widthof{\ensuremath{#1}}]{\kern-.6pt\bigwedge\kern-.6pt}%
%     {\rule[-\textheight/2]{1ex}{\textheight}}}{\textheight}}{0.5ex}}\stackon[1pt]{#1}{\tmpbox}}

% \renewcommand{\qedsymbol}{\ensuremath{\blacksquare}}

\newcommand{\lrp}[1]{\left(#1\right)}
\newcommand{\lrs}[1]{\left\{#1\right\}}
\newcommand{\lrangle}[1]{\left\langle#1\right\rangle}

\DeclareMathOperator{\Tr}{Tr}

% \newcommand{\ip}[2]{\hyperlink{inner_product}{\innerproduct{{\normalcolor #1}}{{\normalcolor #2}}}}
% \newcommand{\ip}[2]{\innerproduct{#1}{#2}}
\newcommand{\ipip}[2]{\left\langle{#1},{#2}\right\rangle}


% \newcolumntype{M}{>{$}l<{$}}
% \newcolumntype{C}{>{$}c<{$}}

%%%%%%%%%%%%%%%%%%%%%%
%%
%% Stuff for the table of contents

% \renewcommand\cftsecdotsep{\cftdot}
% % \renewcommand{\cftsecleader}{\cftdotfill{\cftsecdotsep}\;\;\;\;\;}
% \renewcommand{\cftsecleader}{\cftdotfill{\cftsecdotsep}\;\,}

%%
%%
%%index

% \makeindex[intoc]
% if you need to make more than one index, you write `\makeindex[name=xx, title="{xx}", intoc]`

%%
%% setting the page style of the document

% \pagestyle{fancy}
% \renewcommand{\headrulewidth}{0pt}
% \renewcommand{\sectionmark}[1]{\markright{\MakeUppercase{\ \thesection.\ #1}}{}}
% \rhead{\thepage}
% \cfoot{}

%% Some more macros for page-setup and whatnot

% \renewcommand{\thepart}{\Roman{part}}
% \renewcommand{\thesection}{\Alph{section}}
% \renewcommand{\thesubsection}{\thesection.\Roman{subsection}}

% \makeatletter
%  \renewcommand*\l@subsection{\@dottedtocline{2}{1.5em}{3.5em}}
%  \renewcommand*\l@subsubsection{\@dottedtocline{3}{3em}{5em}}
% %  \renewcommand*\l@section{\@dottedtocline{1}{1em}{3.5em}}
% \makeatother

%% if you want to number the pages by the chapters:
% \usepackage{chappg}
% \pagenumbering[\thesection]{bychapter}
% \renewcommand{\chappgsep}{-}

% \makeatletter
%  \newcommand\titleempty[1]{\@ifmtarg{#1}{}{#1.}}
% \makeatother

%% the following code is to make the subsubsections the same as when you use `amsart'
% \titleformat{\subsubsection}[runin]
%   {\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{\titleempty{#1}}

% \allowdisplaybreaks

% vim: ts=2 et sw=2 sts=2